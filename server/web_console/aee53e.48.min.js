(window.webpackJsonp=window.webpackJsonp||[]).push([[48,72],{161:function(t,e,r){"use strict";r.r(e);var n=r(41),o=r.n(n),i=r(20),a=r.n(i),s=r(26),l=r.n(s),c=r(0),u=r.n(c),d=r(551),h=r(317),f=r(567),b="/data00/webprojectdev/hids_open/src/pages/overview/recent-operation-situation/index.tsx";e.default=function(){var t=Object(c.useState)(),e=a()(t,2),r=e[0],n=e[1];function i(){return(i=o()(l.a.mark((function t(){var e,r,o,i,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.GetLast7DaysOperationStatistics)();case 2:i=t.sent,a=i.data,n({date:null!==(e=null==a?void 0:a.map((function(t){return null==t?void 0:t.date})))&&void 0!==e?e:[],alarm:null!==(r=null==a?void 0:a.map((function(t){return null==t?void 0:t.alarms})))&&void 0!==r?r:[],vuln:null!==(o=null==a?void 0:a.map((function(t){return null==t?void 0:t.vulns})))&&void 0!==o?o:[]});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){i.apply(this,arguments)}(),Object(f.GetHostPlatformStatistics)()}),[]),u.a.createElement(d.a,{containerStyle:{minHeight:320},contentStyle:{height:245,paddingTop:20},title:"最近7天运营态势",isCard:!0,__source:{fileName:b,lineNumber:29,columnNumber:5}},u.a.createElement(h.default,{data:r,__source:{fileName:b,lineNumber:37,columnNumber:7}}))}},317:function(t,e,r){"use strict";r.r(e);var n=r(4),o=r.n(n),i=r(87),a=r.n(i),s=r(0),l=r.n(s),c=r(566),u=r.n(c),d=r(616);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(t){var e,r,n=t.data,o=n?Math.max.apply(Math,a()(n.alarm).concat(a()(n.vuln))):0,i={tooltip:{trigger:"item",textStyle:{color:"#fff"},formatter:function(t){var e,r,o,i=null==t?void 0:t.dataIndex;return void 0===i?"":"".concat(u.a.unix(null!==(e=null==n||null===(r=n.date)||void 0===r?void 0:r[i])&&void 0!==e?e:0).format("MM-DD"),"<div>\n          <div style='display: inline-block;width: 10px;height: 10px; border-radius: 50%;background: #468DFF;margin-right: 5px;'></div>\n          <div style='display: inline-block;width: 150px;'>已处理的安全告警</div>".concat(null==n||null===(o=n.alarm)||void 0===o?void 0:o[i],"</div>"))}},legend:{data:["已处理的安全告警"],bottom:6,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{fontSize:12,color:"#4E5969"}},grid:{top:"10",left:"0",right:"0",bottom:"50",containLabel:!0},xAxis:{type:"category",data:(null!==(e=null==n?void 0:n.date)&&void 0!==e?e:[]).map((function(t){return u.a.unix(t).format("MM-DD")})),axisLine:{show:!1},axisTick:{alignWithLabel:!0,lineStyle:{color:"#E5E6EB"}}},yAxis:f({type:"value",minInterval:1},o<5?{min:0,max:5,interval:1}:{}),series:[{name:"已处理的安全告警",type:"bar",data:null!==(r=null==n?void 0:n.alarm)&&void 0!==r?r:[],color:"#468DFF",barGap:0,barWidth:12}]};return l.a.createElement(d.a,{chartOption:i,__source:{fileName:"/data00/webprojectdev/hids_open/src/pages/overview/recent-operation-situation/operation-chart.tsx",lineNumber:86,columnNumber:10}})}},551:function(t,e,r){"use strict";var n=r(4),o=r.n(n),i=r(0),a=r.n(i),s=r(86),l=r.n(s),c=r(564),u=r.n(c),d="/data00/webprojectdev/hids_open/src/components/common/content-box/index.tsx";function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=l.a.bind(u.a);e.a=function(t){var e=t.util,r=t.title,n=t.containerStyle,o=t.contentStyle,i=t.topBoxStyle,s=t.children,l=t.isCard;return a.a.createElement("div",{className:b("container",l&&"card"),style:f({},n),__source:{fileName:d,lineNumber:27,columnNumber:5}},r?a.a.createElement("div",{className:b("top-box"),style:f({},i),__source:{fileName:d,lineNumber:29,columnNumber:9}},a.a.createElement("div",{className:b("title"),__source:{fileName:d,lineNumber:30,columnNumber:11}},r),a.a.createElement("div",{__source:{fileName:d,lineNumber:31,columnNumber:11}},e)):null,a.a.createElement("div",{className:b("content-box"),style:f({},o),__source:{fileName:d,lineNumber:34,columnNumber:7}},s))}},564:function(t,e,r){t.exports={container:"container-ff5344dbc2","top-box":"top-box-0ebc1e6648",title:"title-1f92f6896d","content-box":"content-box-518d5e101b",card:"card-3d582462db"}},566:function(t,e,r){t.exports=function(){"use strict";var t=6e4,e=36e5,r="millisecond",n="second",o="minute",i="hour",a="day",s="week",l="month",c="quarter",u="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},p={s:y,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+y(n,2,"0")+":"+y(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,l),i=r-o<0,a=e.clone().add(n+(i?-1:1),l);return+(-(n+(r-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:u,w:s,d:a,D:d,h:i,m:o,s:n,ms:r,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},S="en",v={};v[S]=m;var g=function(t){return t instanceof O},w=function(t,e,r){var n;if(!t)return S;if("string"==typeof t)v[t]&&(n=t),e&&(v[t]=e,n=t);else{var o=t.name;v[o]=t,n=o}return!r&&n&&(S=n),n||!r&&S},$=function(t,e){if(g(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},x=p;x.l=w,x.i=g,x.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function m(t){this.$L=w(t.locale,null,!0),this.parse(t)}var y=m.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return x},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(t,e){var r=$(t);return this.startOf(e)<=r&&r<=this.endOf(e)},y.isAfter=function(t,e){return $(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<$(t)},y.$g=function(t,e,r){return x.u(t)?this[e]:this.set(r,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var r=this,c=!!x.u(e)||e,h=x.p(t),f=function(t,e){var n=x.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return c?n:n.endOf(a)},b=function(t,e){return x.w(r.toDate()[t].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},m=this.$W,y=this.$M,p=this.$D,S="set"+(this.$u?"UTC":"");switch(h){case u:return c?f(1,0):f(31,11);case l:return c?f(1,y):f(0,y+1);case s:var v=this.$locale().weekStart||0,g=(m<v?m+7:m)-v;return f(c?p-g:p+(6-g),y);case a:case d:return b(S+"Hours",0);case i:return b(S+"Minutes",1);case o:return b(S+"Seconds",2);case n:return b(S+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var s,c=x.p(t),h="set"+(this.$u?"UTC":""),f=(s={},s[a]=h+"Date",s[d]=h+"Date",s[l]=h+"Month",s[u]=h+"FullYear",s[i]=h+"Hours",s[o]=h+"Minutes",s[n]=h+"Seconds",s[r]=h+"Milliseconds",s)[c],b=c===a?this.$D+(e-this.$W):e;if(c===l||c===u){var m=this.clone().set(d,1);m.$d[f](b),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](b);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[x.p(t)]()},y.add=function(r,c){var d,h=this;r=Number(r);var f=x.p(c),b=function(t){var e=$(h);return x.w(e.date(e.date()+Math.round(t*r)),h)};if(f===l)return this.set(l,this.$M+r);if(f===u)return this.set(u,this.$y+r);if(f===a)return b(1);if(f===s)return b(7);var m=(d={},d[o]=t,d[i]=e,d[n]=1e3,d)[f]||1,y=this.$d.getTime()+r*m;return x.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=x.z(this),i=this.$H,a=this.$m,s=this.$M,l=r.weekdays,c=r.months,u=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].substr(0,i)},d=function(t){return x.s(i%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:x.s(s+1,2,"0"),MMM:u(r.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:u(r.weekdaysMin,this.$W,l,2),ddd:u(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:x.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,a,!0),A:f(i,a,!1),m:String(a),mm:x.s(a,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:o};return n.replace(b,(function(t,e){return e||m[t]||o.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,h){var f,b=x.p(d),m=$(r),y=(m.utcOffset()-this.utcOffset())*t,p=this-m,S=x.m(this,m);return S=(f={},f[u]=S/12,f[l]=S,f[c]=S/3,f[s]=(p-y)/6048e5,f[a]=(p-y)/864e5,f[i]=p/e,f[o]=p/t,f[n]=p/1e3,f)[b]||p,h?S:x.a(S)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return v[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=w(t,e,!0);return n&&(r.$L=n),r},y.clone=function(){return x.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),D=O.prototype;return $.prototype=D,[["$ms",r],["$s",n],["$m",o],["$H",i],["$W",a],["$M",l],["$y",u],["$D",d]].forEach((function(t){D[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,O,$),t.$i=!0),$},$.locale=w,$.isDayjs=g,$.unix=function(t){return $(1e3*t)},$.en=v[S],$.Ls=v,$.p={},$}()},567:function(t,e,r){"use strict";r.r(e),r.d(e,"GetTop10AlarmHosts",(function(){return o})),r.d(e,"GetTop10VulnHosts",(function(){return i})),r.d(e,"GetHostPlatformStatistics",(function(){return a})),r.d(e,"GetAgentVersionStatistics",(function(){return s})),r.d(e,"GetLast7DaysAlarmStatistics",(function(){return l})),r.d(e,"GetLast7DaysVulnStatistics",(function(){return c})),r.d(e,"GetLast7DaysOperationStatistics",(function(){return u}));var n=r(40),o=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeTop10AlarmHosts"},"获取告警数TOP10的主机列表")},i=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeTop10VulnHosts"},"获取漏洞数TOP10的主机列表")},a=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeHostPlatformStatistics"},"获取主机系统统计")},s=function(){return Object(n.b)({method:"get",url:"/api/v6/asset-center/DescribeAgentVersionStatistics"},"获取客户端版本统计")},l=function(){return Object(n.b)({method:"get",url:"/api/v6/situation/DescribeLast7DaysAlarmStatistics"},"获取最近7天安全告警统计")},c=function(){return Object(n.b)({method:"get",url:"/api/v6/situation/DescribeLast7DaysVulnStatistics"},"获取最近7天漏洞情报统计")},u=function(){return Object(n.b)({method:"get",url:"/api/v6/situation/DescribeLast7DaysOperationStatistics"},"获取最近7天运营态势")}},616:function(t,e,r){"use strict";var n=r(0),o=r.n(n),i=r(594),a=r(571);i.registerTheme("macarons",{color:["#E63F3F","#846BCE","#FEC745","#468DFF","#86DF6C","#5594f9","#8DDA76","#8E6D57","#F8C95C","#E55D8F","#339ca8","#cda819","#32a487"],backgroundColor:"#ffffff",textStyle:{},title:{textStyle:{color:"#282f38"},subtextStyle:{color:"#aaa"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{width:2},symbolSize:"1",symbol:"emptyCircle",smooth:!1},radar:{itemStyle:{borderWidth:"1"},lineStyle:{width:2},symbolSize:"1",symbol:"emptyCircle",smooth:!1},bar:{itemStyle:{barBorderWidth:"0",barBorderColor:"#ccc"}},pie:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},scatter:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},boxplot:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},parallel:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},sankey:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},funnel:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},gauge:{itemStyle:{borderWidth:"0",borderColor:"#ccc"}},candlestick:{itemStyle:{color:"#c12e34",color0:"#2b821d",borderColor:"#c12e34",borderColor0:"#2b821d",borderWidth:1}},graph:{itemStyle:{borderWidth:"0",borderColor:"#ccc"},lineStyle:{width:1,color:"#aaa"},symbolSize:"1",symbol:"emptyCircle",smooth:!1,color:["#5594f9","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],label:{color:"#eee"}},map:{itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee",borderWidth:.5},emphasis:{areaColor:"#e6b600",borderColor:"#ddd",borderWidth:1}},label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}}},geo:{itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee",borderWidth:.5},emphasis:{areaColor:"#e6b600",borderColor:"#ddd",borderWidth:1}},label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#a9aeb8"}},axisTick:{show:!0,lineStyle:{color:"#a9aeb8"}},axisLabel:{show:!0,textStyle:{color:"#4e5969"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!1,lineStyle:{color:"#a9aeb8"}},axisTick:{show:!1,lineStyle:{color:"#a9aeb8"}},axisLabel:{show:!0,textStyle:{color:"#4e5969"}},splitLine:{show:!0,lineStyle:{color:["#e5e6eb"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#a9aeb8"}},axisTick:{show:!0,lineStyle:{color:"#a9aeb8"}},axisLabel:{show:!0,textStyle:{color:"#4e5969"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#06467c"},emphasis:{borderColor:"#4187c2"}}},legend:{textStyle:{color:"#333333"}},tooltip:{backgroundColor:"#1D2129",axisPointer:{lineStyle:{color:"#3370ff",width:"1"},crossStyle:{color:"#3370ff",width:"1"}}},timeline:{lineStyle:{color:"#005eaa",width:1},itemStyle:{normal:{color:"#005eaa",borderWidth:1},emphasis:{color:"#005eaa"}},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa",borderWidth:.5},emphasis:{color:"#005eaa",borderColor:"#005eaa",borderWidth:.5}},checkpointStyle:{color:"#005eaa",borderColor:"rgba(49,107,194,0.5)"},label:{normal:{textStyle:{color:"#005eaa"}},emphasis:{textStyle:{color:"#005eaa"}}}},visualMap:{color:["#1790cf","#a2d4e6"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{color:"#eee"},emphasis:{label:{color:"#eee"}}}});e.a=function(t){var e=t.chartOption;return o.a.createElement(a.a,{theme:"macarons",option:e,notMerge:!0,style:{height:"100%"},__source:{fileName:"/data00/webprojectdev/hids_open/src/components/common/chart/chart.tsx",lineNumber:21,columnNumber:5}})}}}]);